#====================================================================
#
#               wNim - Nim's Windows GUI Framework
#                 (c) Copyright 2017-2020 Ward
#
#====================================================================

## These events are generated by wStatusBar.
#
## :Superclass:
##   `wCommandEvent <wCommandEvent.html>`_
#
## :Seealso:
##   `wStatusBar <wStatusBar.html>`_
#
## :Events:
##   ================================  =============================================================
##   wStatusBarEvent                   Description
##   ================================  =============================================================
##   wEvent_StatusBarLeftClick         Clicked the left mouse button within the control.
##   wEvent_StatusBarLeftDoubleClick   Double-clicked the left mouse button within the control.
##   wEvent_StatusBarRightClick        Clicked the right mouse button within the control.
##   wEvent_StatusBarRightDoubleClick  Double-clicked the right mouse button within the control.
##   ================================  =============================================================

{.experimental, deadCodeElim: on.}
when defined(gcDestructors): {.push sinkInference: off.}

import ../wBase

wEventRegister(wStatusBarEvent):
  wEvent_StatusBarFirst
  wEvent_StatusBarLeftClick
  wEvent_StatusBarLeftDoubleClick
  wEvent_StatusBarRightClick
  wEvent_StatusBarRightDoubleClick
  wEvent_StatusBarLast

method getIndex*(self: wStatusBarEvent): int {.property.} =
  ## Return the index of the field that was clicked.
  let lpnm  = cast[LPNMMOUSE](self.mLparam)
  result = int lpnm.dwItemSpec
